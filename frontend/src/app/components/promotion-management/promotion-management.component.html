<div class="container">
  <h2>Gestion des Promotions</h2>

  <div class="card">
    <h3>Ajouter une Promotion</h3>
    <div class="form-group">
      <label>Code</label>
      <input type="text" [(ngModel)]="newPromotion.code" placeholder="Code Promo">
    </div>
    <div class="form-group">
      <label>Réduction (ex: 0.2 pour 20%)</label>
      <input type="number" step="0.01" [(ngModel)]="newPromotion.pourcentageReduction">
    </div>
    <div class="form-group">
      <label>Date Début</label>
      <input type="datetime-local" [(ngModel)]="newPromotion.dateDebut">
    </div>
    <div class="form-group">
      <label>Date Fin</label>
      <input type="datetime-local" [(ngModel)]="newPromotion.dateFin">
    </div>
    <div class="form-group">
      <label>
        <input type="checkbox" [(ngModel)]="newPromotion.actif"> Actif
      </label>
    </div>
    <button (click)="createPromotion()">Ajouter</button>
  </div>

  <table>
    <thead>
      <tr>
        <th>ID</th>
        <th>Code</th>
        <th>Réduction</th>
        <th>Début</th>
        <th>Fin</th>
        <th>Actif</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let promo of promotions">
        <td>{{ promo.id }}</td>
        <td>{{ promo.code }}</td>
        <td>{{ promo.pourcentageReduction * 100 }}%</td>
        <td>{{ promo.dateDebut | date:'short' }}</td>
        <td>{{ promo.dateFin | date:'short' }}</td>
        <td>{{ promo.actif ? 'Oui' : 'Non' }}</td>
        <td>
          <button (click)="deletePromotion(promo.id!)">Supprimer</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
